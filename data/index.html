<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ambient Monitor</title>
  <meta name="description" content="Display ambient temperature & humidity and control Wake-on-LAN (WoL) to remotely wake devices.">
  <style>
    /* CSS Reset */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    /* Base styles */
    body { 
      font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; 
      line-height: 1.5;
      background: #f5f5f5;
      color: #374151;
      transition: background-color 0.2s, color 0.2s;
    }
    
    /* Layout */
    .flex { display: flex; }
    .flex-col { flex-direction: column; }
    .flex-row { flex-direction: row; }
    .items-center { align-items: center; }
    .justify-around { justify-content: space-around; }
    .justify-center { justify-content: center; }
    .grid { display: grid; }
    .grid-cols-1 { grid-template-columns: 1fr; }
    .grid-cols-6 { grid-template-columns: repeat(6, 1fr); }
    .col-span-1 { grid-column: span 1; }
    .col-span-2 { grid-column: span 2; }
    .col-span-3 { grid-column: span 3; }
    
    /* Spacing */
    .gap-2 { gap: 0.5rem; }
    .gap-3 { gap: 0.75rem; }
    .gap-4 { gap: 1rem; }
    .p-2 { padding: 0.5rem; }
    .p-3 { padding: 0.75rem; }
    .px-4 { padding: 0 1rem; }
    .mt-10 { margin-top: 2.5rem; }
    .mb-4 { margin-bottom: 1rem; }
    .mb-5 { margin-bottom: 1.25rem; }
    .mr-2 { margin-right: 0.5rem; }
    
    /* Sizing */
    .h-dvh { height: 100dvh; }
    .w-full { width: 100%; }
    .h-full { height: 100%; }
    .max-w-2xl { max-width: 42rem; }
    .max-w-xs { max-width: 20rem; }
    .container { width: 100%; max-width: 64rem; margin: 0 auto; }
    .aspect-square { aspect-ratio: 1; }
    .flex-1 { flex: 1; }
    .mx-auto { margin: 0 auto; }
    .min-w-20 { min-width: 5rem; }
    
    /* Typography */
    .text-center { text-align: center; }
    .text-base { font-size: 1rem; }
    .text-2xl { font-size: 1.5rem; }
    .font-semibold { font-weight: 600; }
    .font-bold { font-weight: 700; }
    .font-medium { font-weight: 500; }
    
    /* Visual */
    .rounded { border-radius: 0.25rem; }
    .rounded-full { border-radius: 50%; }
    .rounded-2xl { border-radius: 1rem; }
    .rounded-t-2xl { border-top-left-radius: 1rem; border-top-right-radius: 1rem; }
    .shadow-md { box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.1); }
    .transform { transform: translateZ(0); }
    .-rotate-90 { transform: rotate(-90deg); }
    
    /* Position */
    .absolute { position: absolute; }
    .relative { position: relative; }
    .bottom-0 { bottom: 0; }
    
    /* Borders */
    .border-b { border-bottom: 1px solid #d1d5db; }
    
    /* Colors - Light theme */
    .bg-gray-100 { background: #f5f5f5; }
    .bg-gray-200 { background: #e5e7eb; }
    .bg-gray-300 { background: #d1d5db; }
    .bg-green-500 { background: #22c55e; }
    .bg-blue-500 { background: #3b82f6; }
    .bg-red-500 { background: #ef4444; }
    .bg-gray-500 { background: #6b7280; }
    .text-gray-400 { color: #9ca3af; }
    .text-gray-600 { color: #4b5563; }
    .text-gray-700 { color: #374151; }
    .text-white { color: #ffffff; }
    .text-green-600 { color: #16a34a; }
    .text-red-600 { color: #dc2626; }
    .text-yellow-600 { color: #ca8a04; }
    
    /* Interactive */
    .cursor-pointer { cursor: pointer; }
    button { border: none; outline: none; background: none; }
    .hover\:bg-gray-300:hover { background: #d1d5db; }
    .hover\:bg-green-600:hover { background: #16a34a; }
    .hover\:bg-blue-600:hover { background: #2563eb; }
    .focus\:outline-none:focus { outline: none; }
    
    /* Responsive */
    @media (min-width: 768px) {
      .md\:mt-5 { margin-top: 1.25rem !important; }
      .md\:grid { display: grid !important; }
      .md\:hidden { display: none !important; }
      .md\:grid-cols-6 { grid-template-columns: repeat(6, 1fr) !important; }
      .md\:col-span-1 { grid-column: span 1 !important; }
      .md\:col-span-2 { grid-column: span 2 !important; }
      .md\:col-span-3 { grid-column: span 3 !important; }
      .md\:font-normal { font-weight: 400 !important; }
      .md\:max-w-64 { max-width: 14rem !important; }
    }
    @media (min-width: 1024px) {
      .lg\:mt-10 { margin-top: 2.5rem !important; }
    }
    
    /* Animations */
    @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    .animate-spin { animation: spin 1s linear infinite; }
    
    /* Dark mode */
    .block { display: block; }
    .hidden { display: none; }
    
    body.dark {
      background: #27272a;
      color: #f5f5f5;
    }
    body.dark .bg-gray-100 { background: #27272a; }
    body.dark .bg-gray-200 { background: #374151; }
    body.dark .bg-gray-300 { background: #4b5563; }
    body.dark .border-b { border-color: #4b5563; }
    body.dark .text-gray-400 { color: #9ca3af; }
    body.dark .text-gray-600 { color: #d1d5db; }
    body.dark .text-gray-700 { color: #f5f5f5; }
    body.dark .hover\:bg-gray-300:hover { background: #6b7280; }
    body.dark circle { stroke: #374151; }
    body.dark .dark\:block { display: block; }
    body.dark .dark\:hidden { display: none; }
    body.dark #theme-toggle { background: #4b5563; color: #ffffff; }
    body.dark #theme-toggle:hover { background: #6b7280; }
    body.dark #t-text { color: #f5f5f5; }
    body.dark #h-text { color: #f5f5f5; }
    /* Dark mode for dynamically generated content */
    body.dark [class*="status-"] { color: #d1d5db; }
    body.dark .border-b { border-color: #4b5563; }
  </style>
  <link rel="icon" href="favicon.svg">
</head>

<body class="flex flex-col items-center h-dvh bg-gray-100">
  <div class="text-center mt-10 md:mt-5 lg:mt-10">
    <button id="theme-toggle" aria-label="theme toggle"
      class="p-2 bg-gray-200 rounded-full shadow-md hover:bg-gray-300 focus:outline-none cursor-pointer">
      <svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24"
        class="block dark:hidden">
        <g fill="black" fill-rule="evenodd" clip-rule="evenodd">
          <path d="M17 12a5 5 0 1 1-10 0a5 5 0 0 1 10 0m-1.5 0a3.5 3.5 0 1 1-7 0a3.5 3.5 0 0 1 7 0" />
          <path
            d="M7.455 3.464A1 1 0 0 1 9.017 2.8l2.337 1.64a1 1 0 0 0 1.164-.01l2.306-1.682a1 1 0 0 1 1.574.635l.492 2.812a1 1 0 0 0 .831.816l2.82.441a1 1 0 0 1 .664 1.563l-1.64 2.336a1 1 0 0 0 .01 1.164l1.683 2.307a1 1 0 0 1-.635 1.574l-2.812.492a1 1 0 0 0-.816.83l-.441 2.821a1 1 0 0 1-1.563.664l-2.336-1.64a1 1 0 0 0-1.164.01l-2.307 1.683a1 1 0 0 1-1.574-.636l-.492-2.812a1 1 0 0 0-.83-.816l-2.821-.44a1 1 0 0 1-.664-1.563l1.64-2.337a1 1 0 0 0-.01-1.164L2.75 9.182a1 1 0 0 1 .636-1.574l2.812-.493a1 1 0 0 0 .815-.83zm1.04 3.053l.317-2.028l1.68 1.18a2.5 2.5 0 0 0 2.91-.027l1.657-1.21l.354 2.022a2.5 2.5 0 0 0 2.076 2.039l2.027.317l-1.179 1.68a2.5 2.5 0 0 0 .027 2.91l1.209 1.657l-2.021.354a2.5 2.5 0 0 0-2.04 2.076l-.316 2.027l-1.68-1.179a2.5 2.5 0 0 0-2.91.026l-1.657 1.21l-.354-2.022a2.5 2.5 0 0 0-2.076-2.038l-2.027-.318l1.179-1.679a2.5 2.5 0 0 0-.027-2.91L4.435 8.947l2.021-.354a2.5 2.5 0 0 0 2.04-2.076" />
        </g>
      </svg>
      <svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24"
        class="dark:block hidden">
        <path fill="none" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M9 6a9 9 0 0 0 9 9c.91 0 1.787-.134 2.614-.385A9 9 0 0 1 12 21A9 9 0 0 1 9.386 3.386A9 9 0 0 0 9 6" />
      </svg>
    </button>
  </div>
  <div class="flex flex-row container justify-around gap-4">
    <div class="flex-1 max-w-xs">
      <h1 id="t-heading" class="text-2xl font-semibold text-center mb-4">Temperature</h1>
      <div class="relative flex items-center justify-center aspect-square md:max-w-64 mx-auto">
        <svg class="transform -rotate-90 w-full h-full" viewBox="0 0 220 220">
          <circle cx="110" cy="110" r="100" fill="none" stroke="#e5e7eb" stroke-width="12" />
          <circle id="t" cx="110" cy="110" r="100" fill="none" stroke="#4caf50" stroke-width="12" stroke-linecap="round"
            stroke-dasharray="628.32" stroke-dashoffset="628.32" style="transition: stroke-dashoffset 1s ease;" />
        </svg>
        <div class="absolute text-2xl font-bold text-center text-gray-700" id="t-text">0&#37;</div>
      </div>
    </div>
    <div class="flex-1 max-w-xs">
      <h1 id="h-heading" class="text-2xl font-semibold text-center mb-4">Humidity</h1>
      <div class="relative flex items-center justify-center aspect-square md:max-w-64 mx-auto">
        <svg class="transform -rotate-90 w-full h-full" viewBox="0 0 220 220">
          <circle cx="110" cy="110" r="100" fill="none" stroke="#e5e7eb" stroke-width="12" />
          <circle id="h" cx="110" cy="110" r="100" fill="none" stroke="#4caf50" stroke-width="12" stroke-linecap="round"
            stroke-dasharray="628.32" stroke-dashoffset="628.32" style="transition: stroke-dashoffset 1s ease;" />
        </svg>
        <div class="absolute text-2xl font-bold text-center text-gray-700" id="h-text">0&#37;</div>
      </div>
    </div>
  </div>

  <!-- Computer header -->
  <div class="flex flex-col mt-10 bg-gray-200 rounded-2xl w-full max-w-2xl">
    <div class="hidden md:grid grid-cols-6 p-3 gap-3 items-center bg-gray-300 rounded-t-2xl font-bold">
      <div class="px-4 col-span-2">Name</div>
      <div class="px-4 text-center col-span-1">Status</div>
      <div class="px-4 text-center col-span-3">Controls</div>
    </div>

    <!-- Mobile header - only shows on small screens -->
    <div class="md:hidden flex justify-center p-3 bg-gray-300 rounded-t-2xl font-bold">
      <div>Devices</div>
    </div>

    <!-- Computer entries will be generated dynamically by JavaScript -->
    <div id="computer-container"></div>
  </div>

  <!-- Connection to board status -->
  <div class="absolute bottom-0 mb-5 text-gray-400">
    <p>Status: <span id="status" style="color: red;">Disconnected</span></p>
  </div>
  
  <script src="script.js"></script>
</body>

</html>